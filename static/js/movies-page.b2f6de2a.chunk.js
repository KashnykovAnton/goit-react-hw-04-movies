(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{59:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return a}))},65:function(e,t,n){e.exports={list:"MoviesPage_list___Qt_T",item:"MoviesPage_item__2ifP2",itemDiv:"MoviesPage_itemDiv__13dnz",link:"MoviesPage_link__1ceWk",divButton:"MoviesPage_divButton__3s6Jx",button:"MoviesPage_button__2b54B"}},66:function(e,t,n){e.exports={header:"MoviesSearch_header__u2JUk",form:"MoviesSearch_form__1Ct93",button:"MoviesSearch_button__3Xrey",input:"MoviesSearch_input__2l5gK"}},75:function(e,t,n){"use strict";n.r(t);var r=n(59),c=n(61);var a=n(60);function o(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=n(57),s=n(65),u=n.n(s),b=n(15),l=n(0),j=n(3),f=n(9),h=n(58),m=n(66),p=n.n(m),O=n(1),d=function(e){var t=e.onValueSubmit,n=Object(l.useState)(""),r=Object(i.a)(n,2),c=r[0],a=r[1];return Object(O.jsx)("header",{className:p.a.header,children:Object(O.jsxs)("form",{className:p.a.form,onSubmit:function(e){e.preventDefault(),""===c.trim()&&b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),t(c),a("")},children:[Object(O.jsx)("button",{type:"submit",className:p.a.button,children:Object(O.jsx)("span",{className:p.a.buttonLabel,children:"Search"})}),Object(O.jsx)("input",{className:p.a.input,type:"text",value:c,onChange:function(e){a(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};t.default=function(){var e=Object(j.f)(),t=Object(j.g)(),n=Object(j.i)().url,c=Object(l.useState)([]),a=Object(i.a)(c,2),s=a[0],m=a[1],p=Object(l.useState)(1),v=Object(i.a)(p,2),_=v[0],g=v[1],y=new URLSearchParams(t.search).get("query");Object(l.useEffect)((function(){y?Object(h.d)(y,_).then((function(e){0===e.results.length?(b.b.warn("\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c, \u043a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0435\u0442"),m([])):m((function(t){return[].concat(o(t),o(e.results))}))})).catch((function(e){console.log(e)})):m([])}),[y,_]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d,{onValueSubmit:function(n){g(1),m([]),e.push(Object(r.a)(Object(r.a)({},t),{},{search:"query=".concat(n)}))}}),s&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{className:u.a.list,children:s.map((function(e){var r=e.id,c=e.original_title,a=e.name,o=e.poster_path;return Object(O.jsx)("li",{className:u.a.item,children:Object(O.jsx)(f.b,{to:{pathname:"".concat(n,"/").concat(r),state:{from:t}},className:u.a.link,children:Object(O.jsxs)("div",{className:u.a.itemDiv,children:[Object(O.jsx)("img",{src:o?"".concat("https://image.tmdb.org/t/p/w500").concat(o):"https://cdn.pixabay.com/photo/2018/01/04/15/51/404-error-3060993_960_720.png",alt:c,width:"240px"}),Object(O.jsx)("p",{children:null!==c&&void 0!==c?c:a})]})})},r)}))}),0!==s.length&&Object(O.jsx)("div",{className:u.a.divButton,children:Object(O.jsx)("button",{className:u.a.button,type:"button",onClick:function(){g((function(e){return e+1}))},children:"LoadMore"})})]})]})}}}]);
//# sourceMappingURL=movies-page.b2f6de2a.chunk.js.map